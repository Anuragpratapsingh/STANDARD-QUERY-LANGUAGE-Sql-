SELECT CEIL(AVG(SALARY)-AVG(REPLACE(SALARY,0,'')))
FROM EMPLOYEES;
#Replacing in all the salary containg zero with null that is removing zeroes and calculating average
#The blunder problem
Works with string and integer both

Syntax replace T with M
SELECT REPLACE('SQL Tutorial', 'T', 'M');
#The REPLACE() function replaces all occurrences of a substring within a string, with a new substring.


#Truncating the answer to number of decimal places
SELECT TRUNCATE(135.375, 2);
This will truncate 135.375 to 2 decimal places and can also put variables in it.

Or can round
SELECT ROUND(135.375, 2);
tHIs will round this off to two decimal places so 135.38 as last value 5 so aage wale par round off



#Can also do join like
SELECT SUM(CITY.POPULATION)
FROM CITY,COUNTRY
WHERE CITY.COUNTRYCODE=COUNTRY.CODE AND COUNTRY.CONTINENT='ASIA';
#In from can put both the tables and in where join the foreign key



#         THE REPORT IMPORTANT PROBLEM
SELECT STUDENTS.NAME,GRADES.GRADE,STUDENTS.MARKS
FROM STUDENTS
JOIN GRADES
ON STUDENTS.MARKS>=GRADES.MIN_MARK AND STUDENTS.MARKS<=GRADES.MAX_MARK
WHERE GRADES.GRADE>=8
ORDER BY GRADES.GRADE DESC,STUDENTS.NAME;


SELECT NULL,GRADES.GRADE,STUDENTS.MARKS
FROM STUDENTS
JOIN GRADES
ON STUDENTS.MARKS>=GRADES.MIN_MARK AND STUDENTS.MARKS<=GRADES.MAX_MARK
WHERE GRADES.GRADE<=7
ORDER BY GRADES.GRADE DESC,STUDENTS.MARKS;



#African cities
SELECT CITY.NAME
FROM CITY
JOIN COUNTRY
ON CITY.COUNTRYCODE=COUNTRY.CODE 
WHERE CONTINENT='AFRICA'



#TOP COMPETITORS         WRONG SOLUTION
SELECT HACKERS.HACKER_ID,HACKERS.NAME
FROM SUBMISSIONS
JOIN DIFFICULTY
ON SUBMISSIONS.SCORE=DIFFICULTY.SCORE
JOIN HACKERS
ON SUBMISSIONS.HACKER_ID=HACKERS.HACKER_ID
WHERE COUNT(HACKERS.HACKER_ID)>1
ORDER BY COUNT(HACKERS.HACKER_ID) DESC,HACKERS.HACKER_ID
GROUP BY HACKERS.HACKER_ID;
